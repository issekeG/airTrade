{% extends 'base.html.twig' %}

{% block sidebar %}{% endblock %}

{% block main %}
    <main id="aviation-homepage" class="main bg-light">
        <section class="d-flex flex-column align-items-center justify-content-center" style="min-height: 80vh;">
            <div class="container text-center px-0" style="max-width: 800px; margin-top: 15vh;">
                <!-- Logo Centré comme Google -->
                <div class="mb-5">
                </div>

                <!-- Search Bar - Style Google -->
                <div class="search-filter w-100">
                    <h4 class="h3 my-5 bold" style="color:#1A0B8C;">La marketplace des passionnés et professionnels de l’aviation.</h4>
                    {{ form_start(form, {'attr': {'id': 'aircraft-search-form', 'class': 'aviation-search-form'}}) }}
                    <div class="input-group aviation-search-group shadow-sm">
                        {{ form_widget(form.aircraftCategory) }}
                        <div class="vr mx-1 d-none d-md-flex"></div>
                        {{ form_widget(form.aircraftManufacturer) }}
                        <div class="vr mx-1 d-none d-md-flex"></div>
                        {{ form_widget(form.model) }}
                        <button class="btn aviation-search-btn p-0 d-flex align-items-center justify-content-center"
                                type="submit"
                                id="search-button"
                                aria-label="Rechercher"
                                style="width: 46px;">
                            <i class="bi bi-search"></i>
                        </button>
                    </div>
                    {{ form_end(form) }}



                    <style>
                        .aviation-search-form {
                            max-width: 800px;
                            margin: 0 auto;
                        }

                        .aviation-search-group {
                            border-radius: 50px;
                            overflow: hidden;
                            border: 1px solid #dfe1e5;
                            transition: all 0.3s ease;
                        }

                        .aviation-search-group:hover {
                            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
                            border-color: rgba(223, 225, 229, 0.8);
                        }

                        .aviation-select,
                        .aviation-input {
                            border: none;
                            background: transparent;
                            padding: 12px 20px;
                            height: auto;
                        }

                        .aviation-select:focus,
                        .aviation-input:focus {
                            box-shadow: none;
                            background: rgba(248, 249, 250, 0.5);
                        }

                        .aviation-search-btn {
                            border-radius: 0 50px 50px 0 !important;
                            transition: all 0.2s ease;
                            border: none;
                        }

                        .aviation-search-btn:hover {
                            background-color: #0b5ed7 !important;
                        }

                        .fa-search {
                            font-size: 1rem;
                        }

                        /* Style pour les séparateurs */
                        .vr {
                            height: 30px;
                            align-self: center;
                            opacity: 0.3;
                        }

                        /* Responsive adaptations */
                        @media (max-width: 768px) {
                            .aviation-search-group {
                                border-radius: 12px;
                                flex-wrap: wrap;
                            }

                            .aviation-select,
                            .aviation-input {
                                border-bottom: 1px solid #eee;
                                border-radius: 0;
                                padding: 10px 15px;
                            }

                            .aviation-select:first-child {
                                border-radius: 12px 12px 0 0;
                            }

                            .aviation-search-btn {
                                border-radius: 0 0 12px 12px !important;
                                width: 100% !important;
                                padding: 12px !important;
                            }
                        }


                    </style>


                </div>

                <!-- CTA Buttons - Discret comme Google -->
                <div class="my-5">
                    <a class="btn btn-light border mx-1 px-3 py-2" href="{{ path('app_aircraft_index') }}">Explorer la marketplace</a>
                    <a class="btn mx-1 px-3 py-2 text-white" href="{{ path('app_aircraft_new') }}" style="background-color:#1A0B8C;">
                        <i class="fas fa-plus-circle me-1"></i> Vendre un avion
                    </a>
                    
                </div>
            </div>
            <div class="container">
                <div class="text-center mb-5">
                    <h2 class="h4 fw-normal mb-2">Parcourir par catégorie</h2>
                    <p class="text-muted small">Trouvez l'avion qui correspond à vos besoins</p>
                </div>

                <div class="row g-3 justify-content-center">
                    {% set categories = [
                        {name: 'Jet Aircraft', image: 'jet_aircraft_bleu.png'},
                        {name: 'Turboprop Aircraft', image: 'turboprop_aircraft_bleu.png'},
                        {name: 'Piston single aircraft', image: 'piston_single_aircraft_bleu.png'},

                        {name: 'piston twin aircraft', image: 'piston_twin_aircraft_bleu.png'},
                        {name: 'Light Sport', image: 'light_sport_aircraft_bleu.png'},

                        {name: 'Experimental homebuilt aircraft', image: 'experimental_homebuilt_aircraft_bleu.png'},
                        {name: 'Piston agricultural aircraft', image: 'piston_agricultural_aircraft_bleu.png'},
                        {name: 'Piston amphibious flatplanes', image: 'piston_amphibious_flatplanes_bleu.png'},

                        {name: 'Piston helicopters', image: 'piston_helicopters_bleu.png'},
                        {name: 'Piston military aircraft', image: 'piston_military_aircraft_bleu.png'},

                        {name: 'Turbine agricultural aircraft', image: 'turbine_agricultural_aircraft_bleu.png'},
                        {name: 'Turbine helicopters', image: 'turbine_helicopters_bleu.png'},
                        {name: 'Turbine military aircraft', image: 'turbine_military_aircraft_bleu.png'},
                        {name: 'Turbune amphibious floatplane', image: 'turbune_amphibious_floatplane_bleu.png'}
                    ] %}

                    {% for category in categories %}
                        <div class="col-6 col-md-4 col-lg-2">
                            <a href="{{ path('app_aircraft_by_category',{'categoryName': category.name}) }}"
                               class="text-decoration-none text-dark">
                                <div class="card h-100 border-0 bg-transparent hover-scale transition">
                                    <div class="card-body text-center p-2">
                                        <div class="bg-light rounded-circle d-flex align-items-center justify-content-center mb-0 mx-auto"
                                             style="width: 80px; height: 80px;">
                                            <img src="{{ asset('images/aircraft_categories/icons/' ~ category.image) }}"
                                                 alt="{{ category.name }}" style="max-height: 40px;" class="img-fluid">
                                        </div>
                                        <h6 class="mb-0 small fw-normal">{{ category.name }}</h6>
                                    </div>
                                </div>
                            </a>
                        </div>
                    {% endfor %}
                </div>
            </div>


        </section>
        <section class="listings-section py-2 bg-light">
            <div class="container">
                <!-- Titre de la section -->
                <div class="text-center my-5">
                    <h2 class="fw-bold">Sélection d'avions à vendre</h2>
                    <p class="text-muted">Des appareils d'exception, prêts à prendre leur envol avec vous</p>
                </div>

                <div class="row g-4">

                    <!-- Listing 1 - Beechcraft Baron -->
                    {% for aircraft in allAirCrafts %}
                        <div class="col-md-4 col-lg-3">
                            <div class="aircraft-card" style="border: 2px solid #0d6efd;">
                                <div class="aircraft-image">
                                    {% if aircraft.airCraftImages|length > 0 %}
                                        <img src="{{ asset('uploads/images/aircraft/' ~ aircraft.airCraftImages[0].image) }}"
                                             alt="{{ aircraft.aircraftManufacturer.name }} {{ aircraft.model }}">
                                    {% endif %}
                                </div>
                                <div class="aircraft-details">

                                    <div>
                                        <span class="aircraft-type">{{ aircraft.aircraftCategory.name }}</span>
                                    </div>
                                    <small class="text-primary bold"><span>{{ aircraft.yearOfManufacture }}</span>{{aircraft.aircraftManufacturer.name }} {{ aircraft.model }}</small>
                                    <p class="aircraft-location">Location : {{ aircraft.city }},  {{ aircraft.country }}</p>
                                    <div class="aircraft-price">€{{ aircraft.price }}</div>
                                    <div class=" bg-white border-top-0 py-0">
                                        <div class="d-grid">
                                            <a href="{{ path('app_aircraft_show', {'slug':aircraft.slug}) }}" class="btn btn-outline-primary">Voir les details</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                    {% for aircraft in allAirCrafts %}
                        <div class="col-md-4 col-lg-3">
                            <div class="aircraft-card" style="border: 2px solid #0d6efd;">
                                <div class="aircraft-image">
                                    {% if aircraft.airCraftImages|length > 0 %}
                                        <img src="{{ asset('uploads/images/aircraft/' ~ aircraft.airCraftImages[0].image) }}"
                                             alt="{{ aircraft.aircraftManufacturer.name }} {{ aircraft.model }}">
                                    {% endif %}
                                </div>
                                <div class="aircraft-details">

                                    <div>
                                        <span class="aircraft-type">{{ aircraft.aircraftCategory.name }}</span>
                                    </div>
                                    <small class="text-primary bold"><span>{{ aircraft.yearOfManufacture }}</span>{{ aircraft.aircraftManufacturer.name }} {{ aircraft.model }}</small>
                                    <p class="aircraft-location">Location : {{ aircraft.city }},  {{ aircraft.country }}</p>
                                    <div class="aircraft-price">€{{ aircraft.price }}</div>
                                    <div class=" bg-white border-top-0 py-0">
                                        <div class="d-grid">
                                            <a href="{{ path('app_aircraft_show', {'slug':aircraft.slug}) }}" class="btn btn-outline-primary">Voir les details</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                    {% for aircraft in allAirCrafts %}
                        <div class="col-md-4 col-lg-3">
                            <div class="aircraft-card" style="border: 2px solid #0d6efd;">
                                <div class="aircraft-image">
                                    {% if aircraft.airCraftImages|length > 0 %}
                                        <img src="{{ asset('uploads/images/aircraft/' ~ aircraft.airCraftImages[0].image) }}"
                                             alt="{{aircraft.aircraftManufacturer.name}} {{ aircraft.model }}">
                                    {% endif %}
                                </div>
                                <div class="aircraft-details">

                                    <div>
                                        <span class="aircraft-type">{{ aircraft.aircraftCategory.name }}</span>
                                    </div>
                                    <small class="text-primary bold"><span>{{ aircraft.yearOfManufacture }}</span>{{aircraft.aircraftManufacturer.name}} {{ aircraft.model }}</small>
                                    <p class="aircraft-location">Location : {{ aircraft.city }},  {{ aircraft.country }}</p>
                                    <div class="aircraft-price">€{{ aircraft.price }}</div>
                                    <div class=" bg-white border-top-0 py-0">
                                        <div class="d-grid">
                                            <a href="{{ path('app_aircraft_show', {'slug':aircraft.slug}) }}" class="btn btn-outline-primary">Voir les details</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                    {% for aircraft in allAirCrafts %}
                        <div class="col-md-4 col-lg-3">
                            <div class="aircraft-card" style="border: 2px solid #0d6efd;">
                                <div class="aircraft-image">
                                    {% if aircraft.airCraftImages|length > 0 %}
                                        <img src="{{ asset('uploads/images/aircraft/' ~ aircraft.airCraftImages[0].image) }}"
                                             alt="{{aircraft.aircraftManufacturer.name }} {{ aircraft.model }}">
                                    {% endif %}
                                </div>
                                <div class="aircraft-details">

                                    <div>
                                        <span class="aircraft-type">{{ aircraft.aircraftCategory.name }}</span>
                                    </div>
                                    <small class="text-primary bold"><span>{{ aircraft.yearOfManufacture }}</span>{{aircraft.aircraftManufacturer.name }} {{ aircraft.model }}</small>
                                    <p class="aircraft-location">Location : {{ aircraft.city }},  {{ aircraft.country }}</p>
                                    <div class="aircraft-price">€{{ aircraft.price }}</div>
                                    <div class=" bg-white border-top-0 py-0">
                                        <div class="d-grid">
                                            <a href="{{ path('app_aircraft_show', {'slug':aircraft.slug}) }}" class="btn btn-outline-primary">Voir les details</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}

                </div>
            </div>
        </section>

        <!-- Section Blog -->
        <section class="blog-section py-5 bg-light">
            <div class="container">

                <!-- Titre de section -->
                <div class="text-center mb-5">
                    <h2 class="fw-bold">Articles du blog</h2>
                    <p class="text-muted">Découvrez nos derniers articles autour de l'aviation</p>
                </div>

                <div class="row g-4">

                </div>
            </div>
        </section>


    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function () {

            $('.select2').select2({
                width: 'resolve',
                theme: 'bootstrap-5', // Si tu utilises Bootstrap 5
                placeholder: function(){
                    return $(this).attr('placeholder');
                }
            });
        });
    </script>

{% endblock %}

{% block footer %}
    <footer class="text-white pt-5 pb-4 mt-5" style="background-color: #1A0B8C;"
    >
        <div class="container">
            <div class="row">

                <!-- Logo et Description -->
                <div class="col-md-4 mb-4">
                    <img src="{{ asset('images/your-logo.png') }}" alt="Logo" style="height: 50px;" class="mb-3">
                    <p class="text-white">
                        <small>
                            Votre prochain départ commence ici.
                            Entre passion et excellence, trouvez l'appareil qui vous accompagnera vers de nouveaux horizons.
                            Le ciel n’attend que vous.
                        </small>
                    </p>
                    <div class="d-flex gap-3">
                        <a href="#" class="text-white"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>

                <!-- Liens utiles -->
                <div class="col-md-2 mb-4">
                    <h6 class="text-uppercase fw-bold mb-3">Navigation</h6>
                    <ul class="list-unstyled">
                        <li><a href="" class="text-white text-decoration-none">Accueil</a></li>
                        <li><a href="" class="text-white text-decoration-none">Blog</a></li>
                        <li><a href="" class="text-white text-decoration-none">Contact</a></li>
                        <li><a href="" class="text-white text-decoration-none">À propos</a></li>
                    </ul>
                </div>

                <!-- Catégories -->
                <div class="col-md-3 mb-4">
                    <h6 class="text-uppercase fw-bold mb-3">Catégories</h6>
                    <ul class="list-unstyled">
                        <li><a href="{{ path('app_aircraft_by_category', {'categoryName':'Jet Aircraft'}) }}" class="text-white text-decoration-none">Jet</a></li>
                        <li><a href="{{ path('app_aircraft_by_category', {'categoryName':'Turboprop Aircraft'}) }}" class="text-white text-decoration-none">Turboprop</a></li>
                        <li><a href="{{ path('app_aircraft_by_category', {'categoryName':'Piston Single'}) }}" class="text-white text-decoration-none">Piston Mono</a></li>
                        <li><a href="{{ path('app_aircraft_by_category', {'categoryName':'Experimental'}) }}" class="text-white text-decoration-none">Experimental</a></li>
                    </ul>
                </div>

                <!-- Newsletter -->
                <div class="col-md-3 mb-4">
                    <h6 class="text-uppercase fw-bold mb-3">Newsletter</h6>
                    <p class="text-white">Recevez les dernières annonces et articles par email.</p>
                    <form>
                        <div class="input-group">
                            <input type="email" class="form-control" placeholder="Votre email">
                            <button class="btn btn-primary" type="submit"><i class="fas fa-paper-plane"></i></button>
                        </div>
                    </form>
                </div>

            </div>

            <hr class="border-secondary">

            <!-- Footer bottom -->
            <div class="d-flex flex-column flex-md-row justify-content-between align-items-center">
                <p class="mb-2 mb-md-0 text-white">&copy; {{ "now"|date("Y") }} Aviation Market. Tous droits réservés.</p>
                <div>
                    <a href="#" class="text-white me-3 text-decoration-none">Mentions légales</a>
                    <a href="#" class="text-white text-decoration-none">Politique de confidentialité</a>
                </div>
            </div>
        </div>
    </footer>


{% endblock %}


